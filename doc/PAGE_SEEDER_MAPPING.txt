================================================================================
                    COMPLETE PAGE & SEEDER MAPPING
                         SISTEM MAKANAN BERGIZI GRATIS
================================================================================

Dibuat: 2025-11-21
Purpose: Mapping lengkap antara frontend pages dengan data seeding
Format: [Route] → Seeders yang menyediakan data
Legend: ✅ = Ada data seeding | (-) = Tidak ada data seeding

Total Pages: 38 pages
Total Seeders: 40 seeders

================================================================================
                    PUBLIC PAGES (No Authentication)
================================================================================

1. HOME/LANDING PAGE
   Route: /
   File: frontend/app/page.tsx
   Purpose: Landing page dengan hero section dan statistik program

   Seeders: (-)
   Reason: Semua konten statis/hardcoded

   Components:
   - Hero banner dengan title "Makanan Bergizi Gratis"
   - Bar chart alokasi vs distribusi (static data)
   - Tabel priority schools (hardcoded)
   - Call-to-action buttons

   Note: Bisa diupgrade dengan real-time stats dari seeder

--------------------------------------------------------------------------------

2. LOGIN PAGE
   Route: /login
   File: frontend/app/login/page.tsx
   Purpose: Halaman autentikasi untuk semua role

   Seeders: ✅
   - 01-seed-users.ts (users table)

   Data Used:
   - Email/username untuk login
   - Password (bcrypt hashed)
   - Role (admin, school, catering, pemerintah)

   Auth Flow:
   POST /api/auth/login → Check users table → Return JWT + user data

   Sample Users (from seeder):
   - admin@mbg.id (ADMIN)
   - school1@mbg.id - school100@mbg.id (SCHOOL)
   - catering1@mbg.id - catering20@mbg.id (CATERING)
   - pemerintah@mbg.id (GOVERNMENT)

--------------------------------------------------------------------------------

3. REGISTER PAGE (User)
   Route: /register
   File: frontend/app/register/page.tsx
   Purpose: Pendaftaran user baru

   Seeders: ✅
   - 01-seed-users.ts (users table - untuk check duplicate)

   Data Created:
   - New user record in users table
   - Password hashed dengan bcrypt
   - Default status: active

   Validation:
   - Email unique check against existing users
   - Role selection (school/catering/public)

--------------------------------------------------------------------------------

4. REGISTER PAGE (Admin)
   Route: /register/admin
   File: frontend/app/register/admin/page.tsx
   Purpose: Pendaftaran admin dengan invite code

   Seeders: ✅
   - 01-seed-users.ts (users table)

   Data Created:
   - New admin user with role=ADMIN
   - Requires valid invite code (configured in backend)

   Security:
   - Invite code validation
   - Admin role privilege

--------------------------------------------------------------------------------

5. PUBLIC SCHOOLS EXPLORER
   Route: /public/schools
   File: frontend/app/public/schools/page.tsx
   Purpose: Browse dan filter sekolah peserta program MBG

   Seeders: ✅✅✅
   - 01-seed-users.ts (schools table)
   - 23-geocode-schools.ts (geocoded_schools table)
   - 24-calculate-priority-scores.ts (school_priority_scores table)

   Data Used:
   - schools.name, npsn, city, province
   - schools.is_mbg_participating
   - school_priority_scores.priority_score
   - school_priority_scores.poverty_weight, stunting_weight, dapodik_weight
   - geocoded_schools.latitude, longitude

   Features:
   - Search by name/NPSN/city/province
   - Filter by province dropdown
   - Filter by city dropdown
   - Filter by MBG participation
   - Priority score color-coded badge
   - Pagination

   Display Columns:
   - NPSN, School Name, City, Province, Priority Score, Actions

--------------------------------------------------------------------------------

6. PRIORITY MAP (Public)
   Route: /public/priority-map
   File: frontend/app/public/priority-map/page.tsx
   Purpose: Interactive map menampilkan distribusi sekolah berdasarkan prioritas

   Seeders: ✅✅✅
   - 01-seed-users.ts (schools table)
   - 23-geocode-schools.ts (geocoded_schools table)
   - 24-calculate-priority-scores.ts (school_priority_scores table)

   Data Used:
   - geocoded_schools.latitude, longitude
   - school_priority_scores.priority_score, priority_category
   - schools.name, province, city

   Map Features:
   - Leaflet interactive map of Indonesia
   - Color-coded markers:
     * Red: High priority (score > 0.7)
     * Orange: Medium priority (0.4-0.7)
     * Green: Low priority (< 0.4)
   - Province statistics panel
   - Popup with school details on click

   API Endpoints:
   - GET /api/schools/priority/heatmap
   - GET /api/schools/priority/top?limit=50

--------------------------------------------------------------------------------

7. PRIORITY MAP (Legacy)
   Route: /priority-map
   File: frontend/app/priority-map/page.tsx
   Purpose: Redirect/legacy version

   Seeders: ✅ (Same as #6)

--------------------------------------------------------------------------------

8. SCHOOL LIST
   Route: /school-list
   File: frontend/app/school-list/page.tsx
   Purpose: List publik sekolah peserta

   Seeders: ✅
   - 01-seed-users.ts (schools table)

   Status: Implementation ready

--------------------------------------------------------------------------------

9. SEKOLAH (Localized)
   Route: /sekolah
   File: frontend/app/sekolah/page.tsx
   Purpose: Versi bahasa Indonesia dari school page

   Seeders: (-)
   Status: Implementation ready

--------------------------------------------------------------------------------

10. TRANSPARANSI (Transparency)
    Route: /transparansi
    File: frontend/app/transparansi/page.tsx
    Purpose: Public transparency & accountability

    Seeders: ✅✅
    - 11-seed-public-payment-feed.ts (public_payment_feed table)
    - 08-seed-escrow-transactions.ts (escrow_transactions table)

    Data Used:
    - public_payment_feed (for public display of payments)
    - Total funds locked/distributed
    - Recent transactions

    Status: Implementation ready

================================================================================
                    SCHOOL ROLE PAGES (/school/*)
================================================================================

11. SCHOOL DASHBOARD
    Route: /school
    File: frontend/app/school/page.tsx
    Purpose: Dashboard utama untuk role sekolah

    Seeders: ✅✅✅✅
    - 04-seed-deliveries.ts (deliveries table)
    - 05-seed-verifications.ts (verifications table)
    - 07-seed-issues.ts (issues table)
    - 10-seed-delivery-confirmations.ts (delivery_confirmations table)

    Data Used:
    - deliveries WHERE school_id = current_user.school_id
    - verifications WHERE school_id = current_user.school_id
    - issues WHERE school_id = current_user.school_id
    - delivery_confirmations linked to deliveries

    Stats Cards:
    1. Pending Verifications (COUNT where status=delivered)
    2. Total Verified This Month (COUNT where verified_at in current month)
    3. Issues Reported (COUNT of open issues)
    4. Monthly Portions (SUM of portions_expected)

    Tables Displayed:
    - Today's Deliveries (WHERE delivery_date = today, status=delivered)
    - Recent Verifications (ORDER BY verified_at DESC LIMIT 5)

    Quick Actions:
    - Verify Now → /school/verify
    - QR Verify → /school/verify-qr
    - Report Issue → /school/issues/new

    API Endpoints:
    - GET /api/deliveries?school_id=X&status=delivered
    - GET /api/verifications?school_id=X&limit=5
    - GET /api/issues?school_id=X&status=open

--------------------------------------------------------------------------------

12. DELIVERY VERIFICATION LIST
    Route: /school/verify
    File: frontend/app/school/verify/page.tsx
    Purpose: Daftar pengiriman yang perlu diverifikasi

    Seeders: ✅✅
    - 04-seed-deliveries.ts (deliveries table)
    - 02-seed-menu-items.ts (menu_items table - for details)

    Data Used:
    - deliveries WHERE school_id = X AND status IN ('scheduled', 'delivered')
    - Related menu_items for each delivery
    - catering info from caterings table

    Filters:
    - Status: All, Scheduled, Delivered, Pending Verification
    - Date range picker

    Stats Display:
    - Total Pending: COUNT where status=delivered
    - Today's Count: COUNT where delivery_date=today
    - Total Portions: SUM of portions

    Delivery Card Info:
    - Delivery ID, Date, Time
    - Catering name
    - Menu items list
    - Total portions
    - Status badge
    - Verify button (opens modal)

    Verification Modal:
    - Portions received (input)
    - Quality rating (1-5 stars)
    - Photo upload
    - Notes (optional)
    - Submit → POST /api/verifications

--------------------------------------------------------------------------------

13. DELIVERY DETAIL PAGE
    Route: /school/deliveries/[id]
    File: frontend/app/school/deliveries/[id]/page.tsx
    Purpose: Detail lengkap satu pengiriman

    Seeders: ✅✅✅
    - 04-seed-deliveries.ts (deliveries table)
    - 02-seed-menu-items.ts (menu_items table)
    - 08-seed-escrow-transactions.ts (escrow_transactions table)

    Data Used:
    - deliveries WHERE id = [id]
    - menu_items linked to delivery
    - escrow_transactions.tx_hash for blockchain link
    - catering info

    Sections:
    1. Delivery Summary
       - ID, Date, Time, Status
       - Delivery address

    2. Order Details
       - List of menu items
       - Quantities for each item
       - Total portions
       - Total amount (IDR)

    3. Supplier Information
       - Catering name
       - Contact info
       - Rating (if available)

    4. Blockchain Escrow
       - Escrow status (locked/released)
       - Transaction hash (clickable to explorer)
       - Amount locked
       - Release date

    API Endpoint:
    - GET /api/deliveries/:id

--------------------------------------------------------------------------------

14. QR CODE VERIFICATION
    Route: /school/verify-qr
    File: frontend/app/school/verify-qr/page.tsx
    Purpose: Quick verification menggunakan QR code scanner

    Seeders: ✅
    - 04-seed-deliveries.ts (deliveries table)

    Data Used:
    - Delivery data fetched via QR code scanning
    - Real-time camera feed for QR scanning

    Features:
    - Camera access for QR scanning
    - Auto-fetch delivery data when QR detected
    - Quick verify form

    Status: Implementation ready

--------------------------------------------------------------------------------

15. VERIFICATION HISTORY
    Route: /school/history
    File: frontend/app/school/history/page.tsx
    Purpose: Riwayat lengkap semua verifikasi

    Seeders: ✅✅✅
    - 04-seed-deliveries.ts (deliveries table)
    - 05-seed-verifications.ts (verifications table)
    - 01-seed-users.ts (users table for verifier name)

    Data Used:
    - deliveries WHERE school_id = X AND status = 'verified'
    - verifications with JOIN to deliveries
    - users.name for verifier info

    Advanced Filters:
    - Search by delivery ID or supplier name
    - Date range (from - to)
    - Status filter
    - Supplier dropdown

    Pagination:
    - 10 items per page
    - Page navigation

    Table Columns:
    - Delivery ID
    - Date & Time
    - Supplier (catering name)
    - Items (menu items list)
    - Quantity (portions)
    - Status badge
    - Verifier name
    - Actions (View Detail)

    Click Row → Opens detail modal or navigates to detail page

    API Endpoint:
    - GET /api/deliveries?school_id=X&status=verified&date_from=Y&date_to=Z&page=1&limit=10

--------------------------------------------------------------------------------

16. ISSUES LIST
    Route: /school/issues
    File: frontend/app/school/issues/page.tsx
    Purpose: Track semua laporan masalah

    Seeders: ✅✅
    - 07-seed-issues.ts (issues table)
    - 17-seed-anomaly-alerts.ts (anomaly_alerts table for AI priority)

    Data Used:
    - issues WHERE school_id = X
    - anomaly_alerts linked to issues (if exists)

    Filters:
    - Issue Type: All, Late Delivery, Wrong Portions, Quality, Missing Items, etc.
    - Status: All, Open, In Progress, Resolved, Closed
    - Date Range picker

    Search:
    - By issue ID or description

    Issue Card Display:
    - Issue ID
    - Type badge with icon
    - Priority badge (AI-determined: High/Medium/Low)
    - Status badge with color
    - Date reported
    - Short description
    - Related delivery ID (if applicable)
    - Click to view detail

    Stats:
    - Total Issues
    - Open Issues
    - Resolved This Month

    API Endpoint:
    - GET /api/issues?school_id=X&type=Y&status=Z&date_from=A&date_to=B

--------------------------------------------------------------------------------

17. REPORT NEW ISSUE
    Route: /school/issues/new
    File: frontend/app/school/issues/new/page.tsx
    Purpose: Form pelaporan masalah baru

    Seeders: ✅ (Creates new data)
    - 07-seed-issues.ts (issues table - for reference format)

    Data Created:
    - New record in issues table
    - File uploads to Supabase Storage (issue-photos bucket)

    Form Fields:
    1. Issue Type (Dropdown):
       - Late Delivery
       - Wrong Portions
       - Quality Issue
       - Missing Items
       - Packaging Problem
       - Hygiene Concern
       - Other

    2. Related Delivery ID (Optional)
       - Searchable dropdown of recent deliveries

    3. Incident Date (Date Picker)
       - Default: today

    4. Detailed Description (Textarea)
       - Min 10 chars, max 500 chars
       - Character counter

    5. Photo Evidence (File Upload)
       - Drag & drop area
       - Supported: JPG, PNG, PDF
       - Max size: 5MB
       - Multiple files allowed
       - Preview before submit

    Validation:
    - Issue type required
    - Description required
    - File size check

    Submit Action:
    - POST /api/issues with FormData
    - Files uploaded to Supabase Storage
    - Success → Redirect to /school/issues with toast

    Backend Processing:
    - AI anomaly detection triggered (optional)
    - Auto-assign priority based on type
    - Notify catering and admin

--------------------------------------------------------------------------------

18. ISSUE DETAIL PAGE
    Route: /school/issues/[id]
    File: frontend/app/school/issues/[id]/page.tsx
    Purpose: Detail lengkap satu issue

    Seeders: ✅
    - 07-seed-issues.ts (issues table)

    Status: Implementation ready

--------------------------------------------------------------------------------

19. SCHOOL SETTINGS
    Route: /school/settings
    File: frontend/app/school/settings/page.tsx
    Purpose: Pengaturan profil sekolah

    Seeders: ✅
    - 01-seed-users.ts (schools table)
    - 13-seed-payment-methods.ts (payment_methods table - optional)

    Data Used:
    - schools.* (all school profile fields)
    - users.email, password (for account settings)

    Settings Sections:
    1. School Profile
       - School name, NPSN
       - Address, city, province
       - Contact phone, email
       - Principal name
       - Total students

    2. Account Settings
       - Change email
       - Change password
       - Notification preferences

    3. Preferences
       - Language (ID/EN)
       - Timezone
       - Date format

    Status: Implementation ready

--------------------------------------------------------------------------------

20. VERIFICATION DETAILS (Historical)
    Route: /school/verifications/[id]
    File: frontend/app/school/verifications/[id]/page.tsx
    Purpose: Detail verifikasi yang sudah selesai

    Seeders: ✅✅
    - 05-seed-verifications.ts (verifications table)
    - 04-seed-deliveries.ts (deliveries table)

    Status: Implementation ready

--------------------------------------------------------------------------------

21. VERIFICATION BY QR
    Route: /school/verify/[id]
    File: frontend/app/school/verify/[id]/page.tsx
    Purpose: Verifikasi specific delivery

    Seeders: ✅
    - 04-seed-deliveries.ts (deliveries table)

    Status: Implementation ready

================================================================================
                    CATERING ROLE PAGES (/catering/*)
================================================================================

22. CATERING DASHBOARD
    Route: /catering
    File: frontend/app/catering/page.tsx
    Purpose: Dashboard utama untuk role catering

    Seeders: ✅✅✅
    - 04-seed-deliveries.ts (deliveries table)
    - 08-seed-escrow-transactions.ts (escrow_transactions table)
    - 06-seed-payments.ts (payments table)

    Data Used:
    - deliveries WHERE catering_id = X
    - escrow_transactions WHERE catering_id = X
    - payments WHERE catering_id = X

    Hero Banner:
    - "Selamat Datang, [Catering Name]"
    - Subtitle with business info

    Stats Section:
    1. Locked Funds (IDR)
       - SUM of escrow_transactions WHERE status='LOCKED'
       - Blockchain icon

    2. Today's Distribution
       - COUNT of deliveries WHERE date=today
       - Portions count

    3. Calendar View
       - Highlighted dates with scheduled deliveries
       - Click date to view schedule

    Quick Actions:
    - View Full Schedule → /catering/schedule
    - Upload Menu → /catering/menu
    - View Payments → /catering/payments

    Upcoming Deliveries List:
    - Next 7 days deliveries
    - School name, date, portions, status
    - Filter by status (all/scheduled/in-progress/delivered)

    Loading States:
    - Skeleton loaders for all sections
    - Error boundaries

    API Endpoints:
    - GET /api/catering/dashboard (stats)
    - GET /api/deliveries?catering_id=X&date_from=today&date_to=+7days

    Hook: useCateringDashboard() with localStorage caching

--------------------------------------------------------------------------------

23. CATERING SCHEDULE
    Route: /catering/schedule
    File: frontend/app/catering/schedule/page.tsx
    Purpose: Kelola jadwal pengiriman

    Seeders: ✅✅
    - 04-seed-deliveries.ts (deliveries table)
    - 40-seed-delivery-routes.ts (delivery_routes table) ← NEW!

    Data Used:
    - deliveries WHERE catering_id = X
    - delivery_routes with optimized route data
    - delivery_routes.schools_order (array of school IDs in route)
    - delivery_routes.waypoints (route stops with ETA)

    Calendar Features:
    - Monthly/weekly/daily view
    - Color-coded by status:
      * Blue: Scheduled
      * Yellow: In Progress
      * Green: Delivered
      * Red: Late/Issues

    Schedule Details:
    - Route name (e.g., "Route 2025-11-21-1")
    - Driver name & phone
    - Vehicle type & number
    - Schools in route order
    - Estimated start/end time
    - Total distance & portions

    Route Optimization:
    - Route efficiency score
    - Distance optimization
    - Waypoints with ETA per school

    Hook: useScheduleData()

    API Endpoint:
    - GET /api/deliveries?catering_id=X&view=calendar
    - GET /api/delivery-routes?catering_id=X&date=Y

--------------------------------------------------------------------------------

24. CATERING MENU MANAGEMENT
    Route: /catering/menu
    File: frontend/app/catering/menu/page.tsx
    Purpose: Kelola dan upload menu items

    Seeders: ✅✅✅
    - 02-seed-menu-items.ts (menu_items table)
    - 30-seed-weekly-menu-plans.ts (menu_plans table) ← NEW!
    - 39-seed-catering-menu-catalog.ts (catering_menu_catalog table) ← NEW!

    Data Used:
    - menu_items WHERE catering_id = X
    - menu_plans for weekly planning with nutritional info
    - catering_menu_catalog (master catalog of available menus)

    Menu Catalog Display:
    - Menu code (e.g., M001-001)
    - Menu name (Indonesian)
    - Category (main_course, side_dish, soup, dessert, beverage, snack)
    - Base price (IDR)
    - Portion size
    - Nutritional info:
      * Calories
      * Protein (g)
      * Carbs (g)
      * Fat (g)
      * Fiber (g)
    - Allergens (array)
    - Halal & Vegetarian flags
    - BGN compliance score
    - Availability toggle
    - Min order quantity

    Weekly Menu Plan:
    - Calendar view untuk 30 hari ke depan
    - Plan date with meal type
    - Menu details with ingredients
    - Approval status

    Actions:
    - Add new menu item
    - Edit existing menu
    - Upload menu photo
    - Set availability
    - Create weekly plan

    Upload Modal:
    - Drag & drop file upload
    - Menu name & description
    - Price input
    - Nutritional facts form
    - Photo upload

    Hook: useMenuData()

    API Endpoints:
    - GET /api/menu-items?catering_id=X
    - GET /api/menu-plans?catering_id=X&date_from=today&date_to=+30days
    - GET /api/catering-menu-catalog?catering_id=X
    - POST /api/menu-items (create new)
    - PUT /api/menu-items/:id (update)

--------------------------------------------------------------------------------

25. CATERING PAYMENTS
    Route: /catering/payments
    File: frontend/app/catering/payments/page.tsx
    Purpose: Track pembayaran dan escrow releases

    Seeders: ✅✅✅✅✅
    - 06-seed-payments.ts (payments table)
    - 08-seed-escrow-transactions.ts (escrow_transactions table)
    - 09-seed-payment-events.ts (payment_events table)
    - 11-seed-public-payment-feed.ts (public_payment_feed table)
    - 26-seed-historical-payments.ts (historical payment data) ← NEW!

    Data Used:
    - payments WHERE catering_id = X
    - escrow_transactions linked to payments
    - payment_events for timeline of payment actions
    - Historical payments (3-6 months back)

    Payment Dashboard:
    1. Stats Cards:
       - Total Earnings This Month (SUM where status=COMPLETED)
       - Pending Payments (COUNT where status=LOCKED)
       - Locked in Escrow (SUM where status=LOCKED)
       - Released This Week (SUM where released_at in last 7 days)

    2. Payment Timeline:
       - Real-time updates via WebSocket
       - Payment events displayed chronologically
       - Event types: LOCKED, VERIFICATION_PENDING, CONFIRMED, RELEASED
       - Timestamp for each event

    3. Payment History Table:
       Columns:
       - Payment ID
       - Delivery ID
       - School Name
       - Amount (IDR)
       - Status Badge (PENDING/LOCKED/RELEASING/COMPLETED)
       - Paid At
       - Released At (if applicable)
       - Blockchain TX Hash (clickable)
       - Actions (View Detail)

    Filters:
    - Status: All, Pending, Locked, Completed, Failed
    - Date Range: This week, This month, Last 3 months, Custom
    - Amount Range: Min-Max slider
    - Search by delivery ID or school

    Payment Detail Modal:
    - Full payment info
    - Delivery details
    - Escrow timeline
    - Blockchain transaction detail
    - Release schedule (7 days after confirmation)

    Real-time Features:
    - WebSocket connection for live updates
    - Toast notifications on status change
    - Auto-refresh payment list

    Historical Analysis:
    - Monthly revenue chart
    - Payment trends
    - Average release time
    - Success rate

    Hooks:
    - usePaymentsData() - Fetch & manage payments
    - usePaymentSocket() - Real-time WebSocket updates

    API Endpoints:
    - GET /api/payments?catering_id=X&status=Y&date_from=Z
    - GET /api/escrow-transactions?catering_id=X
    - GET /api/payment-events?payment_id=Y
    - WebSocket: ws://api/payments/subscribe

--------------------------------------------------------------------------------

26. CATERING HISTORY
    Route: /catering/history
    File: frontend/app/catering/history/page.tsx
    Purpose: Data historis dan analytics

    Seeders: ✅✅✅✅
    - 04-seed-deliveries.ts (deliveries table)
    - 25-seed-historical-deliveries.ts (historical data 3-6 months) ← NEW!
    - 31-seed-performance-metrics.ts (performance_metrics table) ← NEW!
    - 05-seed-verifications.ts (verifications table for ratings)

    Data Used:
    - Historical deliveries (last 3-6 months)
    - performance_metrics WHERE entity_type='catering' AND entity_id=X
    - Verification ratings for quality scores

    Analytics Dashboard:
    1. Performance Metrics:
       - Total Deliveries (by month)
       - On-Time Rate (%)
       - Quality Average Score (1-5 stars)
       - Issue Rate (%)
       - Total Revenue (IDR)

    2. Charts:
       - Delivery trend line chart (last 6 months)
       - Revenue bar chart (monthly)
       - Quality score trend
       - Top schools by portions

    3. KPI Cards:
       - Overall Score (0-100)
       - Rank in Category
       - Best Month (highest deliveries)
       - Customer Satisfaction (avg rating)

    4. Delivery History Table:
       - Filter by date range
       - School, date, portions, status, rating
       - Export to CSV/PDF

    Period Selection:
    - Daily, Weekly, Monthly, Quarterly views

    Hook: useHistoryData()

    API Endpoints:
    - GET /api/deliveries/history?catering_id=X&period=monthly
    - GET /api/performance-metrics?entity_type=catering&entity_id=X
    - GET /api/verifications/ratings?catering_id=X

--------------------------------------------------------------------------------

27. CATERING ISSUES
    Route: /catering/issues
    File: frontend/app/catering/issues/page.tsx
    Purpose: Issues yang dilaporkan oleh sekolah

    Seeders: ✅✅
    - 07-seed-issues.ts (issues table)
    - 35-seed-public-feedback.ts (public_feedback table) ← NEW!

    Data Used:
    - issues WHERE catering_id = X
    - public_feedback WHERE catering_id = X (customer feedback)

    Issues Dashboard:
    1. Stats:
       - Open Issues
       - In Progress
       - Resolved This Month
       - Average Resolution Time

    2. Issue List:
       - Issue ID, Type, School, Date, Priority, Status
       - Filter by type, status, date
       - Search by keyword

    3. Public Feedback Section:
       - Recent feedback from parents/community
       - Feedback type: Praise, Complaint, Suggestion, Question
       - Rating (1-5 stars)
       - Response status
       - Reply functionality

    Issue Card:
    - Issue details
    - School contact info
    - Photos/evidence
    - Timeline of actions
    - Response form

    Actions:
    - Acknowledge issue
    - Add response/solution
    - Mark as resolved
    - Escalate to admin

    Hook: useIssues()

    API Endpoints:
    - GET /api/issues?catering_id=X
    - GET /api/public-feedback?catering_id=X&is_published=true
    - POST /api/issues/:id/respond
    - PUT /api/issues/:id/status

--------------------------------------------------------------------------------

28. CATERING SETTINGS
    Route: /catering/settings
    File: frontend/app/catering/settings/page.tsx
    Purpose: Pengaturan bisnis catering

    Seeders: ✅✅✅
    - 01-seed-users.ts (caterings table)
    - 13-seed-payment-methods.ts (payment_methods table)
    - 33-seed-catering-contracts.ts (catering_contracts table) ← NEW!

    Data Used:
    - caterings.* (business profile)
    - payment_methods for catering
    - catering_contracts (active contracts)

    Settings Sections:
    1. Business Profile:
       - Business name
       - Legal entity name
       - Business license number
       - Address, city, province
       - Contact phone, email
       - Website
       - Logo upload

    2. Contract Information:
       - Contract number
       - Contract type (standard/premium)
       - Start date, end date
       - Service areas (provinces/cities)
       - Assigned schools
       - Price per portion
       - Max daily portions
       - SLA terms:
         * On-time percentage requirement
         * Quality min score
         * Max issues per month
       - Penalties structure
       - Payment terms (weekly/bi-weekly/monthly)
       - Contract status

    3. Payment Settings:
       - Bank account info
       - Payment methods accepted
       - Wallet address (blockchain)
       - Auto-release preferences

    4. Operational Settings:
       - Operating hours
       - Delivery range (km)
       - Minimum order quantity
       - Lead time (hours)

    5. Account Settings:
       - Change email
       - Change password
       - Two-factor authentication
       - Notification preferences

    Status: Implementation ready

================================================================================
                    ADMIN ROLE PAGES (/admin/*)
================================================================================

29. ADMIN DASHBOARD
    Route: /admin
    File: frontend/app/admin/page.tsx
    Purpose: System overview dashboard untuk admin

    Seeders: ✅✅✅✅✅✅✅
    - 01-seed-users.ts (users, schools, caterings tables)
    - 04-seed-deliveries.ts (deliveries table)
    - 08-seed-escrow-transactions.ts (escrow_transactions table)
    - 03-seed-allocations.ts (allocations table)
    - 27-seed-user-activity-logs.ts (user_activity_logs table) ← NEW!
    - 32-seed-regional-statistics.ts (regional_statistics table) ← NEW!
    - 36-seed-budget-allocations.ts (budget_allocations table) ← NEW!

    Data Used:
    - COUNT of schools (total participating schools)
    - COUNT of caterings (total partners)
    - COUNT of escrow_transactions WHERE status='LOCKED'
    - SUM of escrow_transactions.amount WHERE status='LOCKED'
    - SUM of payments.amount WHERE status='COMPLETED'
    - user_activity_logs for recent activity
    - regional_statistics for geographic distribution
    - budget_allocations for fiscal tracking

    Dashboard Sections:

    1. Stats Cards Row:
       - Total Schools: 100 (with trend ↑ +5%)
       - Catering Partners: 20
       - Active Escrows: 45
       - Locked Funds: Rp 450,000,000
       - Distributed Funds: Rp 3,200,000,000

    2. Regional Distribution:
       - Indonesia map (placeholder/interactive)
       - Color-coded by coverage percentage
       - Hover to see province stats:
         * Total schools
         * Covered schools
         * Coverage %
         * Active caterings
       - Data from regional_statistics table

    3. AI Allocation Summary:
       - Bar chart with Recharts
       - Animated bars
       - Monthly allocation vs distribution
       - AI scoring weights visualization
       - Data from budget_allocations

    4. Activity Log:
       - Last 10 system activities
       - Type badges:
         * Success (green): Verification completed, Payment released
         * Warning (yellow): Issue reported, Late delivery
         * Info (blue): User login, New registration
       - Timestamp (relative: "2 minutes ago")
       - Actor name (user who performed action)
       - Entity affected (delivery ID, payment ID, etc.)
       - Data from user_activity_logs

    5. Quick Actions:
       - View All Issues
       - Manage Escrow
       - Generate Report
       - System Settings

    API Endpoint:
    - GET /api/admin/dashboard (aggregate stats)
    - GET /api/user-activity-logs?limit=10&order=desc
    - GET /api/regional-statistics?period=current

    Real-time Updates:
    - WebSocket for live stats
    - Auto-refresh every 30 seconds

--------------------------------------------------------------------------------

30. ACCOUNTS MANAGEMENT
    Route: /admin/accounts
    File: frontend/app/admin/accounts/page.tsx
    Purpose: Kelola akun users dan permissions

    Seeders: ✅✅
    - 01-seed-users.ts (users table)
    - 18-seed-vendor-risk-assessments.ts (vendor_risk_assessments table)

    Data Used:
    - users.* (all user accounts)
    - vendor_risk_assessments for catering risk scores

    Accounts Table:
    Columns:
    - User ID
    - Name
    - Email
    - Role (badge with color)
    - Status (Active/Inactive/Suspended)
    - Last Login
    - Risk Score (for caterings)
    - Actions (Edit, Suspend, Delete, Reset Password)

    Filters:
    - Role: All, Admin, School, Catering, Government
    - Status: All, Active, Inactive, Suspended
    - Search: Name, email, ID

    User Detail Modal:
    - Full profile
    - Activity history
    - Permissions
    - Risk assessment (for caterings)
    - Action buttons

    Actions:
    - Create new user
    - Edit user profile
    - Change role
    - Suspend/unsuspend
    - Reset password
    - Delete account (with confirmation)
    - View activity logs

    Vendor Risk Assessment:
    - Risk score (0-100)
    - Risk level (Low/Medium/High/Critical)
    - Last assessment date
    - Factors: on-time rate, quality, issues, financial

    Status: Implementation ready

--------------------------------------------------------------------------------

31. ANOMALIES/FRAUD DETECTION
    Route: /admin/anomalies
    File: frontend/app/admin/anomalies/page.tsx
    Purpose: Monitor dan manage anomalies yang terdeteksi AI

    Seeders: ✅✅✅
    - 17-seed-anomaly-alerts.ts (anomaly_alerts table)
    - 16-seed-ai-food-analyses.ts (ai_food_analyses table)
    - 18-seed-vendor-risk-assessments.ts (vendor_risk_assessments table)

    Data Used:
    - anomaly_alerts.* (all detected anomalies)
    - ai_food_analyses (food photo analysis results)
    - vendor_risk_assessments (risk scores)

    Anomaly Dashboard:
    1. Stats:
       - Total Alerts
       - High Severity Count
       - Pending Review
       - Resolved Today

    2. Alert List:
       Each alert card shows:
       - Alert ID
       - Severity Badge (Critical/High/Medium/Low)
       - Anomaly Type:
         * price_spike (harga tiba-tiba naik)
         * quantity_mismatch (jumlah tidak sesuai)
         * duplicate_transaction (transaksi duplikat)
         * unusual_pattern (pola tidak biasa)
         * quality_drop (kualitas menurun)
         * fraud_suspected (indikasi fraud)
       - Related Entity (delivery, payment, catering)
       - Detection Date
       - AI Confidence Score (%)
       - Status (Pending/Under Review/Resolved/False Positive)
       - Assigned To (admin name if being reviewed)

    3. Filters:
       - Severity: All, Critical, High, Medium, Low
       - Type: All anomaly types
       - Status: All, Pending, Under Review, Resolved
       - Date Range

    4. AI Food Analysis Section:
       - Food photos with AI analysis
       - Detected items vs expected menu
       - Quality score
       - Portion estimation
       - Hygiene indicators
       - Confidence level

    Alert Detail View:
    - Full anomaly description
    - Evidence/data points
    - Related transactions/deliveries
    - AI reasoning (why flagged)
    - Historical pattern comparison
    - Recommended actions
    - Investigation notes
    - Resolution form

    Actions:
    - Review alert
    - Mark as false positive
    - Escalate to investigation
    - Resolve with action taken
    - Add notes
    - Block entity if fraud confirmed

    API Endpoints:
    - GET /api/anomaly-alerts?severity=high&status=pending
    - GET /api/ai-food-analyses?flagged=true
    - GET /api/vendor-risk-assessments?risk_level=high
    - PUT /api/anomaly-alerts/:id/review
    - POST /api/anomaly-alerts/:id/resolve

--------------------------------------------------------------------------------

32. BUDGET MANAGEMENT
    Route: /admin/budget
    File: frontend/app/admin/budget/page.tsx
    Purpose: Kelola alokasi dan tracking anggaran

    Seeders: ✅✅✅
    - 03-seed-allocations.ts (allocations table)
    - 36-seed-budget-allocations.ts (budget_allocations table) ← NEW!
    - 32-seed-regional-statistics.ts (regional_statistics for regional view)

    Data Used:
    - allocations.* (school-level allocations)
    - budget_allocations (fiscal budget by region)
    - regional_statistics for aggregate view

    Budget Dashboard:
    1. Fiscal Year Selector:
       - Dropdown: 2024, 2025, etc.
       - Quarter selector: Q1, Q2, Q3, Q4, Annual

    2. Summary Cards:
       - Total Budget: Rp 50,000,000,000
       - Allocated: Rp 45,000,000,000 (90%)
       - Disbursed: Rp 38,250,000,000 (85% of allocated)
       - Remaining: Rp 6,750,000,000
       - Progress bar for each

    3. Budget by Source:
       - APBN (National)
       - APBD (Regional)
       - DAK (Special Allocation)
       - BOS (School Operational Aid)
       - Pie chart distribution

    4. Regional Budget Table:
       Columns:
       - Province/City
       - Allocation Type (regular/emergency/supplemental)
       - Total Budget
       - Allocated Amount
       - Disbursed Amount
       - Remaining
       - Target Schools
       - Target Students
       - Status (Active/Depleted/Closed)
       - Actions (View Detail, Adjust)

    5. Budget Trends:
       - Line chart: Monthly disbursement
       - Bar chart: Budget vs actual per quarter
       - Forecast based on current rate

    Filters:
    - Province
    - Allocation Type
    - Source Fund
    - Status
    - Date Range

    Budget Detail View:
    - Allocation breakdown by school
    - Payment schedule
    - Disbursement history
    - Adjustment history
    - Approval chain

    Actions:
    - Create new allocation
    - Adjust budget
    - Transfer between regions
    - Close fiscal period
    - Export report
    - Request approval

    API Endpoints:
    - GET /api/budget-allocations?fiscal_year=2025&quarter=1
    - GET /api/allocations?status=active
    - GET /api/regional-statistics?aggregation=budget
    - POST /api/budget-allocations (create)
    - PUT /api/budget-allocations/:id (adjust)

--------------------------------------------------------------------------------

33. ESCROW MANAGEMENT
    Route: /admin/escrow
    File: frontend/app/admin/escrow/page.tsx
    Purpose: Kelola blockchain escrow transactions

    Seeders: ✅✅✅✅✅
    - 08-seed-escrow-transactions.ts (escrow_transactions table)
    - 20-seed-blockchain-transaction-history.ts (blockchain_transaction_history)
    - 21-seed-smart-contract-events-raw.ts (smart_contract_events_raw)
    - 22-seed-wallet-balances-snapshot.ts (wallet_balances_snapshot)
    - 14-seed-blockchain-sync-log.ts (blockchain_sync_log)

    Data Used:
    - escrow_transactions.* (all escrow records)
    - blockchain_transaction_history (on-chain history)
    - smart_contract_events_raw (contract events)
    - wallet_balances_snapshot (current balances)
    - blockchain_sync_log (sync status)

    Escrow Dashboard:
    1. Summary Stats:
       - Total Locked: Rp 450,000,000 (45 transactions)
       - Pending Release: Rp 120,000,000 (12 transactions)
       - Released Today: Rp 75,000,000 (8 transactions)
       - Average Lock Time: 5.3 days

    2. Blockchain Network Status:
       - Network: Sepolia Testnet / Polygon Mainnet
       - Block Height: 15,234,567
       - Gas Price: 25 Gwei
       - Sync Status: Synced (last sync: 2 mins ago)
       - Contract Address (clickable to explorer)

    3. Wallet Balances:
       - Main Escrow Wallet: Rp 450,000,000
       - Reserve Wallet: Rp 100,000,000
       - Distribution Wallet: Rp 50,000,000
       - Last snapshot: from wallet_balances_snapshot

    4. Escrow Transactions Table:
       Columns:
       - TX ID
       - School Name
       - Catering Name
       - Amount (IDR)
       - Status (PENDING/LOCKING/LOCKED/RELEASING/RELEASED/CANCELLED/FAILED)
       - Lock TX Hash (link to explorer)
       - Release TX Hash (link to explorer)
       - Locked At
       - Released At
       - Auto-release Date
       - Actions

    5. Smart Contract Events:
       - Real-time event log
       - Event types: FundsLocked, FundsReleased, FundsRefunded
       - Block number, timestamp
       - Transaction hash
       - Event data (amounts, addresses)

    Filters:
    - Status: All, Locked, Releasing, Released
    - Date Range
    - Amount Range
    - School/Catering

    Escrow Detail View:
    - Full transaction details
    - Blockchain verification
    - Event timeline
    - Delivery linked
    - Payment linked
    - Manual release option (admin override)
    - Refund option (if issues)

    Actions:
    - Manual Release (with reason)
    - Refund (with reason)
    - Extend Lock Period
    - View on Blockchain Explorer
    - Export Transaction Report

    Blockchain Sync:
    - Last sync timestamp
    - Sync progress
    - Manual trigger sync
    - Auto-sync interval: 5 minutes

    API Endpoints:
    - GET /api/escrow-transactions?status=locked
    - GET /api/blockchain/transaction-history
    - GET /api/blockchain/smart-contract-events
    - GET /api/blockchain/wallet-balances
    - POST /api/escrow-transactions/:id/release (manual)
    - POST /api/escrow-transactions/:id/refund
    - POST /api/blockchain/sync (trigger sync)

--------------------------------------------------------------------------------

34. ISSUES MANAGEMENT
    Route: /admin/issues
    File: frontend/app/admin/issues/page.tsx
    Purpose: Centralized issue tracking dan resolution

    Seeders: ✅
    - 07-seed-issues.ts (issues table)

    Data Used:
    - issues.* (all reported issues across all schools)

    Issues Dashboard:
    1. Stats Overview:
       - Total Open Issues
       - Critical/High Priority Count
       - Average Resolution Time
       - Resolved Today
       - Overdue Issues (>48 hours)

    2. Issue Priority Queue:
       Sorted by:
       - Priority (Critical → High → Medium → Low)
       - Age (oldest first for same priority)
       - School impact

    3. Issues Table:
       Columns:
       - Issue ID
       - Type Icon & Badge
       - Priority Badge (Critical/High/Medium/Low)
       - School Name
       - Catering Name (if related to delivery)
       - Description (truncated)
       - Status (Open/In Progress/Pending School/Resolved/Closed)
       - Assigned To (admin name)
       - Reported Date
       - Age (in hours/days)
       - Actions

    4. Filters:
       - Type: All, Late Delivery, Quality, Quantity, Packaging, Hygiene, Other
       - Priority: All, Critical, High, Medium, Low
       - Status: All, Open, In Progress, Resolved, Closed
       - Assigned: All, Unassigned, Assigned to me, Specific admin
       - School/Catering filter
       - Date Range

    5. Search:
       - By issue ID
       - By description keywords
       - By school name

    Bulk Actions:
    - Assign multiple issues
    - Change priority
    - Change status
    - Export selected

    Status: Implementation ready

--------------------------------------------------------------------------------

35. ISSUE DETAIL (Admin)
    Route: /admin/issues/[id]
    File: frontend/app/admin/issues/[id]/page.tsx
    Purpose: Detailed issue management

    Seeders: ✅✅✅
    - 07-seed-issues.ts (issues table)
    - 04-seed-deliveries.ts (deliveries table - related)
    - 27-seed-user-activity-logs.ts (activity logs for audit)

    Data Used:
    - issues WHERE id = [id]
    - Related delivery if delivery_id exists
    - user_activity_logs for issue history

    Issue Detail Page:
    1. Header Section:
       - Issue ID (large)
       - Priority badge
       - Status badge
       - Age indicator
       - Quick actions: Assign, Change Status, Close

    2. Issue Information:
       - Type
       - Reported by (school name + contact)
       - Reported at (timestamp)
       - Related delivery ID (clickable)
       - Catering involved

    3. Description:
       - Full detailed description
       - Photo evidence (gallery)
       - Attachments (if any)

    4. Investigation Section:
       - Assigned to (dropdown to reassign)
       - Investigation notes (admin-only)
       - Actions taken (timeline)
       - Resolution plan

    5. Communication Thread:
       - Messages between admin, school, catering
       - Internal notes (admin-only, highlighted)
       - Timestamps
       - Status change notifications

    6. Related Data:
       - Delivery details (if linked)
       - Verification status
       - Payment status
       - Escrow status
       - Similar issues (from same catering)

    7. Activity Timeline:
       - Issue created
       - Status changes
       - Assignments
       - Comments added
       - Resolution actions
       - Closed timestamp

    Actions Available:
    - Add Investigation Note
    - Add Response (visible to school & catering)
    - Change Priority
    - Change Status
    - Assign/Reassign
    - Request More Info (from school)
    - Escalate to Management
    - Apply Penalty (to catering, if applicable)
    - Mark as Resolved
    - Close Issue
    - Reopen Issue

    API Endpoints:
    - GET /api/issues/:id (full detail)
    - GET /api/deliveries/:delivery_id
    - GET /api/user-activity-logs?entity_type=issue&entity_id=:id
    - POST /api/issues/:id/notes (add note)
    - POST /api/issues/:id/respond
    - PUT /api/issues/:id/assign
    - PUT /api/issues/:id/status

    Status: Implementation ready

--------------------------------------------------------------------------------

36. MANUAL REVIEW
    Route: /admin/manual-review
    File: frontend/app/admin/manual-review/page.tsx
    Purpose: Review dan override keputusan AI

    Seeders: ✅✅✅
    - 16-seed-ai-food-analyses.ts (ai_food_analyses table)
    - 17-seed-anomaly-alerts.ts (anomaly_alerts table)
    - 24-calculate-priority-scores.ts (school_priority_scores table)

    Data Used:
    - ai_food_analyses WHERE confidence < 0.8 OR flagged=true
    - anomaly_alerts WHERE status='pending' OR disputed=true
    - school_priority_scores (for manual adjustment)

    Manual Review Dashboard:
    1. Pending Reviews Queue:
       - Items needing manual review
       - Sorted by:
         * Priority (high-impact decisions first)
         * Confidence level (lowest first)
         * Age (oldest pending first)

    2. Review Categories:
       A. AI Food Analysis Review:
          - Photo uploaded
          - AI detection results
          - Confidence score
          - Detected items vs expected menu
          - Quality assessment
          - Admin can:
            * Approve AI result
            * Override with manual input
            * Request better photo
            * Mark as inconclusive

       B. Anomaly Alert Review:
          - Anomaly details
          - AI reasoning
          - Evidence/data points
          - Historical pattern
          - Admin can:
            * Confirm as true positive
            * Mark as false positive
            * Request investigation
            * Take corrective action

       C. Priority Score Adjustment:
          - School current priority score
          - AI calculation breakdown
          - Poverty weight, Stunting weight, Dapodik weight
          - Admin can:
            * Approve calculation
            * Override score with reason
            * Adjust weights
            * Add manual factors

    3. Review Item Card:
       - Item ID
       - Category (Food Analysis/Anomaly/Priority)
       - Confidence Score
       - AI Decision
       - Created At
       - Pending Duration
       - Review Button

    4. Review Interface:
       - Side-by-side comparison (AI vs Reality)
       - Evidence panel (photos, data, logs)
       - AI reasoning explanation
       - Manual input form
       - Decision buttons:
         * Approve AI
         * Override (with reason required)
         * Need More Info
         * Escalate
       - Comment box for notes

    5. Review History:
       - Past manual reviews
       - Override rate
       - Common override reasons
       - Accuracy tracking (AI vs Manual)

    Actions:
    - Bulk approve low-risk items
    - Set review priorities
    - Configure confidence thresholds
    - Export review reports

    Status: Implementation ready

--------------------------------------------------------------------------------

37. REPORTS & ANALYTICS
    Route: /admin/reports
    File: frontend/app/admin/reports/page.tsx
    Purpose: Comprehensive reporting dan analytics

    Seeders: ✅✅✅✅✅✅✅✅
    - 04-seed-deliveries.ts (deliveries table)
    - 31-seed-performance-metrics.ts (performance_metrics table) ← NEW!
    - 32-seed-regional-statistics.ts (regional_statistics table) ← NEW!
    - 37-seed-audit-trails.ts (audit_trails table) ← NEW!
    - 06-seed-payments.ts (payments table)
    - 05-seed-verifications.ts (verifications table)
    - 07-seed-issues.ts (issues table)
    - 36-seed-budget-allocations.ts (budget_allocations table)

    Data Used:
    - All tables for comprehensive analytics
    - Performance metrics for KPIs
    - Regional statistics for geographic insights
    - Audit trails for compliance reports

    Reports Dashboard:
    1. Report Categories:
       A. Operational Reports:
          - Daily Delivery Summary
          - Weekly Performance Report
          - Monthly Distribution Report
          - Catering Performance Ranking
          - School Participation Report

       B. Financial Reports:
          - Budget Allocation Report
          - Disbursement Summary
          - Payment Processing Report
          - Escrow Activity Report
          - Refunds & Adjustments

       C. Compliance Reports:
          - Audit Trail Report (all financial transactions)
          - Blockchain Verification Report
          - SLA Compliance Report
          - Issue Resolution Report
          - Data Privacy Report

       D. Analytics Reports:
          - Regional Performance Analysis
          - Trend Analysis (6-month view)
          - Predictive Forecasting
          - ROI Analysis
          - Impact Assessment

    2. Report Generator:
       - Report Type Selector
       - Date Range Picker
       - Filters:
         * Region (province/city)
         * School/Catering
         * Status
         * Custom criteria
       - Format Selection:
         * PDF (printable)
         * Excel (data export)
         * CSV (raw data)
         * Dashboard View (interactive)
       - Schedule Report (daily/weekly/monthly email)

    3. Quick Reports (Pre-configured):
       - Today's Summary (click to generate)
       - Last Week Performance
       - Monthly Financial
       - Quarterly Review
       - Annual Report

    4. Report Preview:
       - Interactive charts
       - Data tables
       - Executive summary
       - Key findings
       - Recommendations

    5. Saved Reports:
       - Recently generated reports
       - Scheduled reports
       - Shared reports
       - Download/share options

    Audit Trail Report Includes:
    - All financial transactions with before/after states
    - Blockchain verification
    - Actor information (who did what)
    - IP addresses
    - Timestamps
    - Immutable audit log
    - Export for BPK audit

    Status: Implementation ready

--------------------------------------------------------------------------------

38. ADMIN SETTINGS
    Route: /admin/settings
    File: frontend/app/admin/settings/page.tsx
    Purpose: System configuration dan admin settings

    Seeders: ✅✅
    - 29-seed-system-config.ts (system_config table) ← NEW!
    - 01-seed-users.ts (users table for admin accounts)

    Data Used:
    - system_config.* (all configuration entries)
    - users WHERE role='ADMIN'

    Settings Dashboard:
    1. AI Configuration:
       - Scoring Weights:
         * Poverty weight: 0.4 (slider)
         * Stunting weight: 0.3 (slider)
         * Dapodik weight: 0.3 (slider)
         * Total must = 1.0
       - Cohere Model Settings:
         * Model name: command-r-plus
         * Temperature: 0.7
         * Max tokens: 1000
       - Claude Model Settings:
         * Model name: claude-3-5-sonnet-20241022
         * Temperature: 0.5
         * Max tokens: 2000
       - Food Analysis:
         * Enabled toggle
         * Confidence threshold: 0.75

    2. Blockchain Configuration:
       - Network Settings:
         * Chain ID: 11155111 (Sepolia testnet)
         * Network name
         * RPC URL
         * Explorer URL
       - Smart Contracts:
         * Escrow contract address
         * Payment contract address
       - Gas Settings:
         * Max priority fee: 2.0 Gwei
         * Max fee: 50.0 Gwei
         * Gas limit: 300000

    3. Payment Configuration:
       - Escrow Thresholds:
         * Min amount: Rp 100,000
         * Max amount: Rp 100,000,000
         * Auto-release days: 7
       - Xendit Integration:
         * Enabled toggle
         * API key (masked)
         * Webhook URL
       - Price per Portion:
         * Default: Rp 15,000
         * Premium: Rp 25,000
         * Budget: Rp 10,000

    4. Notification Configuration:
       - Email Settings:
         * Enabled toggle
         * SMTP host, port
         * From email & name
       - Delivery Reminders:
         * Enabled toggle
         * Hours before: 2
         * Notification types: email, in-app
       - Payment Alerts:
         * Enabled toggle
         * Notify on: locked, released, failed
         * Notification types: email, in-app

    5. General Application Settings:
       - Maintenance Mode:
         * Enabled toggle
         * Custom message
         * Allowed IPs
       - Feature Flags:
         * AI food analysis: ON/OFF
         * Blockchain payments: ON/OFF
         * Public feedback: ON/OFF
         * Menu planning: ON/OFF
         * Delivery routes: ON/OFF
       - Timezone & Locale:
         * Timezone: Asia/Jakarta
         * Locale: id-ID
         * Currency: IDR
       - Pagination:
         * Default page size: 20
         * Max page size: 100
         * Infinite scroll: ON/OFF

    6. Security Settings:
       - Session Timeout:
         * Idle timeout: 30 minutes
         * Absolute timeout: 8 hours
         * Remember me: 30 days
       - Password Policy:
         * Min length: 8
         * Require uppercase: YES
         * Require lowercase: YES
         * Require numbers: YES
         * Require special chars: YES
         * Expiry days: 90
       - Rate Limiting:
         * Enabled: YES
         * Requests per minute: 60
         * Requests per hour: 1000

    7. Reporting Settings:
       - Transparency:
         * Enabled: YES
         * Update frequency: 24 hours
         * Public access: YES
       - Analytics Retention:
         * Raw data: 90 days
         * Aggregated data: 5 years
         * Audit logs: 7 years
       - Export Formats:
         * Allowed: CSV, Excel, PDF
         * Max export rows: 10,000
         * Include charts: YES

    8. Delivery Settings:
       - Verification Window:
         * Hours before delivery: 2
         * Hours after delivery: 24
         * Require photo: YES
         * Require signature: NO
       - Schedule Constraints:
         * Earliest time: 06:00
         * Latest time: 10:00
         * Allowed days: Monday-Friday
         * Exclude holidays: YES

    Actions:
    - Save Configuration (per section)
    - Reset to Defaults
    - Export Configuration
    - Import Configuration
    - Test Settings (for email, blockchain, etc.)

    API Endpoints:
    - GET /api/system-config (all configs)
    - GET /api/system-config/:key (specific config)
    - PUT /api/system-config/:key (update)
    - POST /api/system-config (create new)
    - POST /api/system-config/test (test configuration)

    Status: Implementation ready

================================================================================
                    SUMMARY STATISTICS
================================================================================

TOTAL PAGES: 38 pages

BREAKDOWN BY SECTION:
- Public Pages: 10 pages
  * With seeding: 5 pages (50%)
  * Without seeding: 5 pages (50%)

- School Pages: 11 pages
  * With seeding: 11 pages (100%)
  * Without seeding: 0 pages (0%)

- Catering Pages: 7 pages
  * With seeding: 7 pages (100%)
  * Without seeding: 0 pages (0%)

- Admin Pages: 10 pages
  * With seeding: 10 pages (100%)
  * Without seeding: 0 pages (0%)

SEEDER UTILIZATION:
Core Seeders (01-24): Used across 35+ pages
Nice-to-Have Seeders (25-40): Used across 15+ pages

MOST USED SEEDERS:
1. 01-seed-users.ts - 30+ pages (users, schools, caterings)
2. 04-seed-deliveries.ts - 20+ pages (core delivery data)
3. 08-seed-escrow-transactions.ts - 10+ pages (blockchain)
4. 06-seed-payments.ts - 8+ pages (payment tracking)
5. 07-seed-issues.ts - 7+ pages (issue management)

NEW SEEDERS IMPACT (25-40):
- 25-seed-historical-deliveries.ts → Catering History page
- 26-seed-historical-payments.ts → Catering Payments page
- 27-seed-user-activity-logs.ts → Admin Dashboard (Activity Log)
- 28-seed-notification-history.ts → [Future: Notification Center]
- 29-seed-system-config.ts → Admin Settings page
- 30-seed-weekly-menu-plans.ts → Catering Menu page
- 31-seed-performance-metrics.ts → Catering History + Admin Reports
- 32-seed-regional-statistics.ts → Admin Dashboard + Admin Reports
- 33-seed-catering-contracts.ts → Catering Settings page
- 34-seed-photo-evidence.ts → School Verify + Issues pages
- 35-seed-public-feedback.ts → Catering Issues page
- 36-seed-budget-allocations.ts → Admin Budget page
- 37-seed-audit-trails.ts → Admin Reports (Audit Trail Report)
- 38-seed-school-student-counts.ts → [Future: School Analytics]
- 39-seed-catering-menu-catalog.ts → Catering Menu page
- 40-seed-delivery-routes.ts → Catering Schedule page

PAGES WITHOUT SEEDING DATA (Static Content):
- / (Home/Landing) - Static hero & charts
- /sekolah - Localized static page
- [4 other implementation-ready pages]

================================================================================
                    RECOMMENDATIONS
================================================================================

1. HIGH PRIORITY - Migrate File Uploads to Supabase Storage:
   Affected Pages:
   - /school/issues/new (photo uploads)
   - /school/verify (verification photos)
   - /catering/menu (menu photos)

   Current: Local filesystem (backend/src/middleware/upload.ts)
   Should Be: Supabase Storage buckets

   Action: Create buckets & migrate upload logic

2. MEDIUM PRIORITY - Implement Notification Center:
   Seeder Ready: 28-seed-notification-history.ts
   New Page Needed: /notifications (all roles)

   Features:
   - Real-time notifications
   - Mark as read
   - Filter by type
   - Action buttons

3. LOW PRIORITY - Add Student Analytics:
   Seeder Ready: 38-seed-school-student-counts.ts
   New Page Needed: /admin/student-analytics

   Features:
   - Enrollment trends
   - Eligible students tracking
   - Grade distribution
   - Year-over-year comparison

4. ENHANCEMENT - Add Public Feedback Page:
   Seeder Ready: 35-seed-public-feedback.ts
   New Page Needed: /public/feedback

   Features:
   - Browse community feedback
   - Filter by type (praise/complaint)
   - Rating visualization
   - Response tracking

================================================================================
                    DATA FLOW ARCHITECTURE
================================================================================

API PATTERN:
Frontend Page → Hook (useDeliveries, useVerifications, etc.)
  → API Layer (/lib/api.ts)
  → Backend API (/api/*)
  → Supabase Client
  → Database (Seeded Data)

KEY HOOKS:
- useDeliveries: Fetch deliveries with filters
- useVerifications: Manage verifications
- useIssues: Issue tracking
- useCateringDashboard: Catering stats with caching
- usePaymentSocket: Real-time payment updates (WebSocket)
- useHistoryData: Historical analytics
- useMenuData: Menu management
- useScheduleData: Calendar/schedule
- usePaymentsData: Payment tracking

AUTHENTICATION:
- useAuth() hook provides:
  * user (with school_id/catering_id)
  * isAuthenticated
  * isLoading
  * login(email, password)
  * Role-based access control

REAL-TIME FEATURES:
- WebSocket for payment updates (/catering/payments)
- WebSocket for escrow events (/admin/escrow)
- Auto-refresh dashboards (30s interval)

================================================================================
                    SEEDER EXECUTION CHECKLIST
================================================================================

BEFORE RUNNING SEEDERS:
☐ Run migration: 025_create_nice_to_have_tables.sql
☐ Verify Supabase connection in .env
☐ Check existing data (avoid duplicates)

RECOMMENDED EXECUTION ORDER:
1. Core seeders (01-24) - Already completed ✅
2. Critical nice-to-have (25, 26, 29)
3. High priority (27, 32, 33)
4. Medium priority (28, 30, 31)
5. Low priority (34-40)

VERIFICATION AFTER SEEDING:
☐ Run verification queries
☐ Check page displays correctly
☐ Test filters and search
☐ Verify pagination
☐ Check real-time updates (if applicable)

================================================================================
                    END OF DOCUMENT
================================================================================

Document Created: 2025-11-21
Last Updated: 2025-11-21
Total Pages Analyzed: 38
Total Seeders: 40 (24 core + 16 nice-to-have)

For questions or updates:
- Frontend files: /frontend/app/
- Seeder files: /database/seeders/
- Migration files: /database/migrations/
- API files: /backend/src/

READY FOR PRODUCTION SEEDING! 🚀
